<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-back/supabase/discord/Q1-supabase-A-few-basic-questions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Q1-supabase-A-few-basic-questions | 개발 정보 모음</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mineclover.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mineclover.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mineclover.github.io/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Q1-supabase-A-few-basic-questions | 개발 정보 모음"><meta data-rh="true" name="description" content="질문"><meta data-rh="true" property="og:description" content="질문"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mineclover.github.io/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions"><link data-rh="true" rel="alternate" href="https://mineclover.github.io/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions" hreflang="ko"><link data-rh="true" rel="alternate" href="https://mineclover.github.io/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="개발 정보 모음 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="개발 정보 모음 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ca3abbab.css">
<link rel="preload" href="/assets/js/runtime~main.b2bd5337.js" as="script">
<link rel="preload" href="/assets/js/main.4ecd191a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Dev_blog" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Dev_blog" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Softer Dev_blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/back/node/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mineclover/my-blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/back/node/intro">back</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/back/node/intro">node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/category/postgresql">postgreSQL</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;postgreSQL&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/postgreSQL">postgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/postgreSQL/sort-order">sort-order</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/back/supabase">supabase</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;supabase&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/first-start">first-start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/setup">setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/DB-insert">DB-insert</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/category/auth-ui">auth-ui</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;auth-ui&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/auth-ui">auth-ui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/auth-ui/session-Modularization">session-Modularization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/category/database-newbie-question">database-newbie-question</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;database-newbie-question&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/database-newbie-question">database-newbie-question</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/database-newbie-question/hide-api-key-research">hide-api-key-research</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/discord">discord</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;discord&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions">Q1-supabase-A-few-basic-questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/discord">discord</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/edge-function">edge-function</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/category/policies">policies</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;policies&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/policies">policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/policies/identifier">identifier</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/realtime+채팅+코드+예시">realtime+채팅+코드+예시</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/review">review</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/supa-vs-fire">supa-vs-fire</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back/supabase/typescript-setting">typescript-setting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/back/typia">typia</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;typia&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/blog">blog</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;blog&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/books">books</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/etc/platform-flitto">etc</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/front/Accessibility/KWCAG">front</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/language/HTML/HTML-a-Attributes">language</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/profile/development-style">profile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/project">project</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;project&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/category/design">site</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/category/원티드-4월">topic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/work/Notion/API-명세서">work</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">back</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/back/supabase"><span itemprop="name">supabase</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/discord"><span itemprop="name">discord</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Q1-supabase-A-few-basic-questions</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Q1-supabase-A-few-basic-questions</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="질문">질문<a href="#질문" class="hash-link" aria-label="질문에 대한 직접 링크" title="질문에 대한 직접 링크">​</a></h2><p>Originally I didn&#x27;t use db, but I&#x27;m using supabase for the first time. studied for a week</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1">1<a href="#1" class="hash-link" aria-label="1에 대한 직접 링크" title="1에 대한 직접 링크">​</a></h3><p>If you look at the usage, if you do not create a schema, the default value is set, so select &#x27;public&#x27; as the schema.</p><p>There are other schemas, and it seems that you can put an arbitrary schema into the database with a command, but I don&#x27;t think this is a recommended usage. Is it right?</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2">2<a href="#2" class="hash-link" aria-label="2에 대한 직접 링크" title="2에 대한 직접 링크">​</a></h3><p>I want to change the role given to a user.</p><p>try to give more ratings The interface doesn&#x27;t seem to be provided what to do Which roles are already designed for use? 2-1. I tested it manually When an anonymous connection matches anon, it is processed as anon. When I logged in, it seemed to treat it as authenticated if the address was the same as the preset address. I figured it out manually. Is there a document that organizes this?</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3">3<a href="#3" class="hash-link" aria-label="3에 대한 직접 링크" title="3에 대한 직접 링크">​</a></h3><p>I want to speed up the logout cycle</p><p>Do you have logout logic? If not, should I just clear local storage and cookies?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="답변">답변<a href="#답변" class="hash-link" aria-label="답변에 대한 직접 링크" title="답변에 대한 직접 링크">​</a></h2><ol><li><p>you can create custom schemas and either allow the API access or not. You have to deal with grants on them if you want them to be accessible to any other user than Postgres.</p></li><li><p>Supabase has 3 roles. anon, authenticated and service_role. Supabase provides no support for additional roles.</p><p> You have to handle it on your own. Two ways to deal with other roles are <a href="https://github.com/supabase-community/supabase-custom-claims" target="_blank" rel="noopener noreferrer">https://github.com/supabase-community/supabase-custom-claims</a> and <a href="https://github.com/orgs/supabase/discussions/11948" target="_blank" rel="noopener noreferrer">https://github.com/orgs/supabase/discussions/11948</a> .</p><p> This has a bit more info on roles <a href="https://supabase.com/docs/learn/auth-deep-dive/auth-policies" target="_blank" rel="noopener noreferrer">https://supabase.com/docs/learn/auth-deep-dive/auth-policies</a></p></li><li><p>signOut().</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="분석">분석<a href="#분석" class="hash-link" aria-label="분석에 대한 직접 링크" title="분석에 대한 직접 링크">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-번">1 번<a href="#1-번" class="hash-link" aria-label="1 번에 대한 직접 링크" title="1 번에 대한 직접 링크">​</a></h3><p>그냥 권한처리해서 접속하려하면 할 수 있다 라고 해석할 수 있다<br>
<!-- -->애초에 내가 질문 한 것도 schemas.table 인 경우에 다른 스키마도 만들어 쓰려면 쓸 수 있어보이네? 라는 질문이였기 때문<br>
<!-- -->이제 그것과 관련한 권한 부여는 직접 따로 해줘야한다라는 의미로 보인다</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-번">2 번<a href="#2-번" class="hash-link" aria-label="2 번에 대한 직접 링크" title="2 번에 대한 직접 링크">​</a></h3><p>좀 길다</p><p>링크에서 토론이 있었다 <a href="https://github.com/orgs/supabase/discussions/11948" target="_blank" rel="noopener noreferrer">CLS RBAC - Assigning PG_roles to logged users · supabase · Discussion #11948 · GitHub</a> 에 의해서 문제가 인식됬고<br>
<!-- -->그 결과물이 <a href="https://github.com/supabase-community/supabase-custom-claims" target="_blank" rel="noopener noreferrer">GitHub - supabase-community/supabase-custom-claims: How to implement custom claims with Supabase</a> 인 것으로 보인다</p><p>복잡한 기능 넣지 말까..??<br>
<!-- -->권한 부여하고 관리하고... 할 거 생각하면 벌써 머리가 아프다 역시 백앤드는 많이 어렵다</p><p>일단 기존에 본인의 게시글에 권한을 가지는 방법은 불러올 객체가 가지고 있는 소유자 속성에 본인의 고유식별자가 있으면 권한을 가진다 이다<br>
<!-- -->요청 구분은 <code>auth.jwt() === { email }</code> 이런 식으로 한다<br>
<!-- -->그래서 예제에서 그냥 아예 전체 조회한다를 예시로 설명하고 있다</p><p>근데 질문이랑 답변이 좀 다른 것 같다</p><p>읽다보니까<br>
<a href="https://supabase.com/docs/guides/auth/row-level-security#policies-with-joins" target="_blank" rel="noopener noreferrer">Row Level Security | Supabase Docs</a></p><p>조인이 되기 때문에 외부 쿼리에서 권한 설정용으로 만들어둔 특정 테이블에서 값을 가져와서 비교 시킬 수 있을 것 같다<br>
<!-- -->여기서 보면 조건에 teams 에 대해서 update 권한을 using 에 맞으면 허락한다<br>
<!-- -->전송 받은 아이디가 in 다음 조건절에 포함되어 있으면~ 이라는 SQL 이다!<br>
<!-- -->검색어 : select 문 하위질의어 in</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> policy </span><span class="token string" style="color:#e3116c">&quot;Team members can update team details if they belong to the team.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> teams</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> user_id </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> members</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> team_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>여기서 id 는 어디서 튀어나왔나 싶은데<br>
<!-- -->팀들의 id 중에서 맞는 아이디 찾고 있는 것이다<br>
<!-- -->찾는 팀이 있는 상황임<br>
<!-- -->아 여기서 id 가 어디서 넘어왔는지를 못찾겠다<br>
<!-- -->일단 나는 특정 팀에 대한 권한을 주고 있는게 아니기 때문에 생략해도 된다</p><p>원래 전체 조회와 삭제에 대한 권한은 유저에게 부여되지만<br>
<!-- -->특정 조건을 충족할 경우 전체 조회와 전체 삭제가 가능한 권한을 주는 식으로 접근 할 수 있어보인다</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="두번째-방법">두번째 방법<a href="#두번째-방법" class="hash-link" aria-label="두번째 방법에 대한 직접 링크" title="두번째 방법에 대한 직접 링크">​</a></h4><p>계속 읽고 있으니 점점 보이는데 그냥 처음 쓸 때 바로 테이블을 지정할 수 있다 <code>auth.uid() = posts.creator_id</code><br>
<!-- -->그래서 알 수 있는 것은 내부가 조건 충족만 되면 된다</p><p>그 외로 다양한 기능들이 구현될 수 있다 SQL 자체가 그냥 테이블로 할 수 있는 건 다 되는 것으로 보인다</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> posts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">creator_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> user_id </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> members</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-번">3 번<a href="#3-번" class="hash-link" aria-label="3 번에 대한 직접 링크" title="3 번에 대한 직접 링크">​</a></h3><p>테스트 중에 별도의 로그아웃이 없었더니 로그인 되어있다라는 것을 뒤늦게 알게됬다<br>
<!-- -->정책 테스트하다가 혹시나 해서 쿠키랑 로컬 스토리지를 열었더니 데이터가 있었고<br>
<!-- -->로그아웃 상태는 anon 로 처리되는 것을 확인함</p><p>즉 권한은 크게 두개다 익명과 인증<br>
<!-- -->그리고 인증은 JWT 에 계정 정보 담아서 한다<br>
<!-- -->이것에 대한 자세한 정보는 RLS 에 있다<br>
<a href="https://supabase.com/docs/guides/auth/row-level-security" target="_blank" rel="noopener noreferrer">Row Level Security | Supabase Docs</a></p><p>그래서 아무튼 그래서 별도의 로그아웃이 필요한 것을 알게 됨<br>
<!-- -->근데 그러면 로그아웃 안하면 평생 로그인되있어야하나?</p><p>요청 전송자의 uuid 나 jwt 를 알 수 있는 건 좋다<br>
<!-- -->근데 그걸 권한에 연결 시킬 수 있느냐는거임</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mineclover/my-blog/docs/back/supabase/discord/Q1-supabase-A-few-basic-questions.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/discord"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">discord</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/back/supabase/discord"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">discord</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#질문" class="table-of-contents__link toc-highlight">질문</a><ul><li><a href="#1" class="table-of-contents__link toc-highlight">1</a></li><li><a href="#2" class="table-of-contents__link toc-highlight">2</a></li><li><a href="#3" class="table-of-contents__link toc-highlight">3</a></li></ul></li><li><a href="#답변" class="table-of-contents__link toc-highlight">답변</a></li><li><a href="#분석" class="table-of-contents__link toc-highlight">분석</a><ul><li><a href="#1-번" class="table-of-contents__link toc-highlight">1 번</a></li><li><a href="#2-번" class="table-of-contents__link toc-highlight">2 번</a></li><li><a href="#3-번" class="table-of-contents__link toc-highlight">3 번</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mineclover/my-blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b2bd5337.js"></script>
<script src="/assets/js/main.4ecd191a.js"></script>
</body>
</html>